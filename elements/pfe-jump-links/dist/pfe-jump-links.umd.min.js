!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd"],t):e.PfeJumpLinks=t(e.PFElement)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e};function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:r(o,t,i)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(i):void 0}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var l={childList:!0,subtree:!0,characterData:!0,attributes:!0},c={childList:!0,subtree:!0,characterData:!0,attributes:!0},p=(o(f,e),i(f,[{key:"html",get:function(){return"<style>:host{display:block}:host([hidden]){display:none}\n/*# sourceMappingURL=pfe-jump-links.min.css.map */\n</style><slot></slot>"}},{key:"schemaUrl",get:function(){return"pfe-jump-links.json"}},{key:"templateUrl",get:function(){return"pfe-jump-links.html"}},{key:"styleUrl",get:function(){return"pfe-jump-links.scss"}}],[{key:"version",get:function(){return"1.0.0-prerelease.50"}},{key:"properties",get:function(){return{}}},{key:"slots",get:function(){return{default:{title:"Default slot",type:"array",namedSlot:!1,items:{oneOf:[{$ref:"raw"}]}}}}},{key:"tag",get:function(){return"pfe-jump-links"}},{key:"PfeType",get:function(){return e.PfeTypes.Content}}]),f);function f(){return t(this,f),a(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,f,{type:f.PfeType}))}var h=(o(u,e),i(u,[{key:"html",get:function(){return'<style>:host{--pfe-jump-links--horizontal-spacer:calc(var(--pfe-theme--container-padding, 16px) * 2);--pfe-jump-links--vertical-spacer:calc(var(--pfe-theme--container-padding, 16px) * 2);--pfe-jump-links--BackgroundColor:var(--pfe-theme--color--surface--lightest, #fff);--pfe-jump-links--BorderColor:var(--pfe-theme--color--ui-base, #0477a4);--pfe-jump-links--FontSize:var(--pfe-theme--font-size--heading--epsilon, 16px);--pfe-jump-links__heading--FontSize:var(--pfe-theme--font-size--heading--zeta, 14px);--pfe-jump-links__link--horizontal-spacer:calc(var(--pfe-theme--content-spacer, 24px) / 3);--pfe-jump-links__link--vertical-spacer:calc(var(--pfe-theme--content-spacer, 24px) / 6);-webkit-box-sizing:border-box;box-sizing:border-box;font-family:Overpass,Overpass,Helvetica,helvetica,arial,sans-serif;font-family:var(--pfe-theme--font-family, "Overpass", Overpass, Helvetica, helvetica, arial, sans-serif);font-weight:500;font-weight:var(--pfe-theme--font-weight--normal,500);font-weight:400;display:block;position:-webkit-sticky;position:sticky;top:calc(16px * 4);top:calc(var(--pfe-theme--container-spacer,16px) * 4);padding-left:0}@media (min-width:992px){:host{padding:var(--pfe-jump-links--vertical-spacer) var(--pfe-jump-links--horizontal-spacer)}}:host[pfe-sticky=false]{position:relative}:host nav{visibility:visible}:host pfe-accordion{--pfe-accordion--BackgroundColor:transparent;--pfe-accordion--BorderColor:#ccc;--pfe-accordion--BorderColor--accent:transparent;--pfe-accordion--accent:transparent;--pfe-accordion--BorderColor:transparent;--pfe-accordion--BorderColor--accent:transparent;--pfe-theme--surface--border-style:solid;--pfe-theme--color--surface--border:transparent;--pfe-theme--color--ui-base--on-dark:transparent;--pfe-theme--color--ui-base:transparent}@media (min-width:992px){:host pfe-accordion{--pfe-accordion--base--Padding:0!important}}:host pfe-accordion button{text-decoration:none}:host pfe-accordion-header{position:-webkit-sticky;position:sticky;top:0}nav{margin:0;list-style:none;padding:0}nav ::slotted([slot=pfe-jump-links-nav--heading]){margin:0;margin-bottom:calc(16px * 1);margin-bottom:calc(var(--pfe-theme--container-spacer,16px) * 1);font-size:var(--pfe-jump-links__heading--FontSize);font-weight:400;text-transform:uppercase}@media (max-width:991px){nav ::slotted([slot=pfe-jump-links-nav--heading]){display:none}}nav .sub-nav{margin:0;padding:0;border:none!important;overflow-y:hidden;-webkit-transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:flex 1s linear;transition:flex 1s linear,-webkit-box-flex 1s linear,-webkit-flex 1s linear,-ms-flex 1s linear;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:0;-webkit-flex:0;-ms-flex:0;flex:0}nav .sub-nav li{border:none!important}nav li{border-left:4px solid transparent;border-left:var(--pfe-theme--surface--border-width--heavy,4px) solid transparent;display:block;text-decoration:none}nav li.expand .sub-nav{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}nav li.expand .sub-section{display:table;height:auto}nav a{display:table;text-decoration:none;font-size:var(--pfe-jump-links--FontSize);padding:calc(var(--pfe-jump-links__link--vertical-spacer) * 2) calc(var(--pfe-jump-links__link--horizontal-spacer) * 2);line-height:1.5;line-height:var(--pfe-theme--line-height,1.5);position:relative}nav a.has-sub-section{padding-bottom:calc(var(--pfe-jump-links__link--vertical-spacer))}nav a.sub-section{margin-left:calc(16px * .75);margin-left:calc(var(--pfe-theme--container-spacer,16px) * .75);font-size:calc(var(--pfe-jump-links--FontSize) * .85);padding:calc(var(--pfe-jump-links__link--vertical-spacer) * 1) calc(var(--pfe-jump-links__link--horizontal-spacer) * 2)}@media (min-width:992px){nav a.sub-section{display:none}}nav a.sub-section:last-child{padding-bottom:calc(var(--pfe-jump-links__link--horizontal-spacer) * 1)}nav a::after{content:"";position:absolute;width:calc(100% - 4px);height:calc(100% - 4px);top:0;left:0}nav a:focus{outline:0}nav a:focus::after{border-radius:3px;border:2px solid #06c;border:2px solid var(--pfe-theme--color--link,#06c)}:host{background-color:var(--pfe-jump-links--BackgroundColor)}@media (max-width:991px){:host pfe-accordion{border:1px solid #d2d2d2;border:1px solid var(--pfe-theme--color--ui-disabled,#d2d2d2)}:host pfe-accordion-header{background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);--theme:light}}@media (min-width:992px){:host{border:1px solid transparent}}:host ::slotted([slot=pfe-jump-links-nav--heading]){color:#333;color:var(--pfe-theme--text,#333)}:host ul{padding:0;border-left:1px solid #d2d2d2;border-left:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled,#d2d2d2)}:host li[active]{border-left-color:var(--pfe-jump-links--BorderColor)}:host a{color:#797979;color:var(--pfe-theme--color--ui-disabled--text,#797979);position:relative}:host a:hover{color:#131313;color:var(--pfe-theme--color--surface--darkest,#131313)}:host a[active]{color:#131313;color:var(--pfe-theme--color--surface--darkest,#131313)}:host a::after{content:"";position:absolute;width:calc(100% - 4px);height:calc(100% - 4px);top:0;left:0}:host a:focus{outline:0}:host a:focus::after{border-radius:3px;border:2px solid #9cf;border:2px solid var(--pfe-theme--color--link--on-dark,#9cf)}:host([pfe-color=darkest]){--theme:dark;background-color:#131313;background-color:var(--pfe-theme--color--surface--darkest,#131313);border:1px solid #797979;border:1px solid var(--pfe-theme--color--ui-disabled--text,#797979)}:host([pfe-color=darkest]) button[aria-expanded=true],:host([pfe-color=darkest]) pfe-accordion-header,:host([pfe-color=darkest]) pfe-accordion-panel{--pfe-accordion--BackgroundColor:var(--pfe-theme--color--surface--darkest, #131313);--pfe-jump-links--BackgroundColor:var(--pfe-theme--color--surface--darkest, #131313)}:host([pfe-color=darkest]) ::slotted([slot=pfe-jump-links-nav--heading]){color:#ececec;color:var(--pfe-theme--color--surface--lighter,#ececec)}:host([pfe-color=darkest]) ul{border-left:1px solid #797979;border-left:1px solid var(--pfe-theme--color--ui-disabled--text,#797979)}:host([pfe-color=darkest]) ul li[active]{border-left:3px solid #e00;border-left:3px var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-accent,#e00)}:host([pfe-color=darkest]) ul a{color:#ccc;color:var(--pfe-theme--color--ui-complement--focus--on-dark,#ccc)}:host([pfe-color=darkest]) ul a:hover{color:#ccc;color:var(--pfe-theme--color--ui-complement--hover--on-dark,#ccc)}:host([pfe-color=darkest]) ul a[active]{color:#fff;color:var(--pfe-theme--color--ui-complement--on-dark,#fff)}:host([pfe-color=darkest]) ul a::after{content:"";position:absolute;width:calc(100% - 4px);height:calc(100% - 4px);top:0;left:0}:host([pfe-color=darkest]) ul a:focus{outline:0}:host([pfe-color=darkest]) ul a:focus::after{border-radius:3px;border:2px solid #9cf;border:2px solid var(--pfe-theme--color--link--on-dark,#9cf)}:host([hidden]){display:none}:host([pfe-c-horizontal]){padding:0;top:0;width:100%}:host([pfe-c-horizontal]) nav{min-height:calc(16px * 5.5);min-height:calc(var(--pfe-theme--container-spacer,16px) * 5.5);background-color:#ececec;background-color:var(--pfe-theme--color--surface--lighter,#ececec);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative}:host([pfe-c-horizontal]) nav .pfe-jump-links-nav__heading{display:none}:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--logo]){position:absolute;left:0;max-height:calc(16px * 3.5);max-height:calc(var(--pfe-theme--container-spacer,16px) * 3.5);max-width:calc(16px * 14);max-width:calc(var(--pfe-theme--container-spacer,16px) * 14);top:calc(16px * 1);top:calc(var(--pfe-theme--container-spacer,16px) * 1)}@media (max-width:991px){:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--logo]){left:calc(16px * 2);left:calc(var(--pfe-theme--container-spacer,16px) * 2)}}@media (min-width:992px){:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--logo]){left:calc(16px * 4);left:calc(var(--pfe-theme--container-spacer,16px) * 4)}}:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--cta]){position:absolute;top:calc(16px * 1);top:calc(var(--pfe-theme--container-spacer,16px) * 1)}@media (max-width:991px){:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--cta]){right:calc(16px * 2);right:calc(var(--pfe-theme--container-spacer,16px) * 2)}}@media (min-width:992px){:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--cta]){right:calc(16px * 4);right:calc(var(--pfe-theme--container-spacer,16px) * 4)}}:host([pfe-c-horizontal]) #container{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;justify-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}:host([pfe-c-horizontal]) ul{border:none;display:block;text-align:center;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;width:auto;margin:0;margin-left:auto;margin-right:auto}:host([pfe-c-horizontal]) ul li{padding:0 calc(16px * 1.5);padding:0 calc(var(--pfe-theme--container-spacer,16px) * 1.5);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:calc(16px * 5);height:calc(var(--pfe-theme--container-spacer,16px) * 5);-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:none;border-right:none}:host([pfe-c-horizontal]) ul li[active]{border-top:4px solid #e00;border-top:4px solid var(--pfe-theme--color--ui-accent,#e00)}:host([pfe-c-horizontal]) ul a{text-decoration:none;color:#797979;color:var(--pfe-theme--color--ui-disabled--text,#797979)}:host([pfe-c-horizontal]) ul a[active]{color:#131313;color:var(--pfe-theme--color--surface--darkest,#131313)}:host([pfe-c-horizontal]) ul a:hover{color:#131313;color:var(--pfe-theme--color--surface--darkest,#131313)}@media (max-width:991px){:host([pfe-c-horizontal]) nav{min-height:calc(16px * 5.5);min-height:calc(var(--pfe-theme--container-spacer,16px) * 5.5);background-color:#ececec;background-color:var(--pfe-theme--color--surface--lighter,#ececec)}:host([pfe-c-horizontal]) .pfe-jump-links-nav{display:none}}@media (min-width:992px){pfe-accordion-header{visibility:collapse!important;display:none}pfe-accordion-panel{visibility:collapse;display:none;opacity:1;display:block}pfe-accordion-panel>pfe-jump-links-nav{width:100%;display:block;visibility:visible}}\n/*# sourceMappingURL=pfe-jump-links-nav.min.css.map */\n</style>\n  '+(this.hasAttribute("pfe-c-horizontal")?"":"<pfe-accordion>\n    <pfe-accordion-header>\n    </pfe-accordion-header>\n    <pfe-accordion-panel>")+'\n      <nav>\n        <slot class="pfe-jump-links-nav__heading" name="pfe-jump-links-nav--heading" id="pfe-jump-links-nav--heading">\n        </slot>\n        <slot class="pfe-jump-links-nav__logo" name="pfe-jump-links-nav--logo"></slot>\n        <div id="container"></div>\n        <slot class="pfe-jump-links-nav__cta" name="pfe-jump-links-nav--cta"></slot>\n      </nav>\n      '+(this.hasAttribute("pfe-c-horizontal")?"":"</pfe-accordion-panel>\n  </pfe-accordion>")}},{key:"schemaUrl",get:function(){return"pfe-jump-links-nav.json"}},{key:"templateUrl",get:function(){return"pfe-jump-links-nav.html"}},{key:"styleUrl",get:function(){return"pfe-jump-links-nav.scss"}}],[{key:"version",get:function(){return"1.0.0-prerelease.50"}},{key:"tag",get:function(){return"pfe-jump-links-nav"}},{key:"PfeType",get:function(){return e.PfeTypes.Content}}]),i(u,[{key:"connectedCallback",value:function(){if(r(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"connectedCallback",this).call(this),this.hasAttribute("autobuild"))this._buildNav();else if(this._isValidLightDom()){var e=this.querySelector("ul");e.classList.add("pfe-jump-links-nav"),this._menuContainer.innerHTML=e.outerHTML;var t=document.createElement("div");t.innerHTML='<h2 class="sr-only" hidden>'+this.getAttribute("sr-text")+"</h2>",this.getAttribute("sr-text")&&this.shadowRoot.querySelector("nav").prepend(t);var i="";if(this.querySelector("[slot='pfe-jump-links-nav--heading']")&&(i=this.querySelector("[slot='pfe-jump-links-nav--heading']").cloneNode(!0)),this.hasAttribute("pfe-c-horizontal")||""===i){var n=document.createElement("h3");n.id="pfe-jump-links-nav--heading",this.shadowRoot.querySelector("pfe-accordion-header").appendChild(n),this.shadowRoot.querySelector("#pfe-jump-links-nav--heading").innerHTML="Jump to section"}else this.shadowRoot.querySelector("pfe-accordion-header").appendChild(i)}this._reportHeight(),this._observer.observe(this,l),this.panel=document.querySelector('[pfe-c-scrolltarget="'+this.id+'"]'),this.panel.addEventListener(d.events.change,this._buildNav)}},{key:"disconnectedCallback",value:function(){this._observer.disconnect(),this.panel.removeEventListener(d.events.change,this._buildNav),this.removeEventListener("click")}},{key:"_rebuildNav",value:function(){this._buildNav()}},{key:"_buildNav",value:function(){var a=this,e='\n      <ul class="pfe-jump-links-nav">\n        '+function(){var e="";a.panel||(a.panel=document.querySelector('[pfe-c-scrolltarget="'+a.id+'"]'));for(var t=a.panel.querySelectorAll(".pfe-jump-links-panel__section"),i=0;i<t.length;i++){var n=[].concat(s(t));if(n[i].classList.contains("has-sub-section"))e+='\n          <li class="pfe-jump-links-nav__item">\n            <a\n              class="pfe-jump-links-nav__link has-sub-section"\n              href="#'+n[i].id+'"\n              data-target="'+n[i].id+'">\n                '+n[i].innerHTML+'\n            </a>\n            <ul class="sub-nav">\n        ';else if(n[i].classList.contains("sub-section")){var o='\n        <li class="pfe-jump-links-nav__item">\n            <a\n              class="pfe-jump-links-nav__link sub-section"\n              href="#'+n[i].id+'"\n              data-target="'+n[i].id+'">\n                '+n[i].innerHTML+"\n            </a>\n        </li>";n[i+1].classList.contains("sub-section")||(o+="</ul></li>"),e+=o}else e+='\n          <li class="pfe-jump-links-nav__item">\n            <a\n              class="pfe-jump-links-nav__link"\n              href="#'+n[i].id+'"\n              data-target="'+n[i].id+'">\n                '+n[i].innerHTML+"\n            </a>\n          </li>\n        "}return e}()+"\n    ";this.shadowRoot.querySelector("#container").innerHTML=e;var t=document.createElement("h3");t.innerHTML="Jump to section",this.shadowRoot.querySelector("pfe-accordion-header").appendChild(t)}},{key:"_mutationCallback",value:function(){if(window.ShadyCSS&&this._observer.disconnect(),this.hasAttribute("autobuild"))this.hasAttribute("autobuild")&&this._buildNav();else{var e=this.querySelector("ul");this._menuContainer.innerHTML=e.outerHTML}window.ShadyCSS&&this._observer.observe(this,l)}},{key:"_isValidLightDom",value:function(){return this.children.length?(!this.has_slot("logo")&&!this.has_slot("link")||this.hasAttribute("pfe-c-horizontal")||console.warn(p.tag+": logo and link slots NOT supported in vertical jump links"),"UL"===this.children[1].tagName||(this.hasAttribute("pfe-c-horizontal")||console.warn(p.tag+": The top-level list of links MUST be a <ul>"),!1)):(console.warn(p.tag+": You must have a <ul> tag in the light DOM"),!1)}},{key:"_reportHeight",value:function(){var e="--"+this.tag+"--Height--actual",t=this.clientHeight+"px";this.panel.style.setProperty(e,t)}}]),u);function u(){t(this,u);var e=a(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,{type:u.PfeType}));return e._buildNav=e._buildNav.bind(e),e._mutationCallback=e._mutationCallback.bind(e),e._menuContainer=e.shadowRoot.querySelector("#container"),e._observer=new MutationObserver(e._mutationCallback),e._reportHeight=e._reportHeight.bind(e),e.panel=document.querySelector("[pfe-c-scrolltarget="+e.id+"]"),window.addEventListener("resize",function(){}),e}var d=(o(v,e),i(v,[{key:"html",get:function(){return"<style>\n/*# sourceMappingURL=pfe-jump-links-panel.min.css.map */\n</style><slot></slot>"}},{key:"schemaUrl",get:function(){return"pfe-jump-links-panel.json"}},{key:"templateUrl",get:function(){return"pfe-jump-links-panel.html"}},{key:"styleUrl",get:function(){return"pfe-jump-links-panel.scss"}},{key:"offsetValue",get:function(){return this.sectionMargin||this.customVar}}],[{key:"version",get:function(){return"1.0.0-prerelease.50"}},{key:"tag",get:function(){return"pfe-jump-links-panel"}},{key:"events",get:function(){return{change:this.tag+":change",activeNavItem:this.tag+":active-navItem"}}},{key:"PfeType",get:function(){return e.PfeTypes.Content}},{key:"observedAttributes",get:function(){return["pfe-c-offset"]}}]),i(v,[{key:"connectedCallback",value:function(){r(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"connectedCallback",this).call(this),this.nav=this._getNav(),this._init(),this.sectionMargin=this.getAttribute("pfe-c-offset"),this.customVar=this.cssVariable("--pfe-jump-links-panel--offset")||200,this.nav&&this.nav.hasAttribute("pfe-c-autobuild")&&this.nav._rebuildNav(),this._observer.observe(this,c)}},{key:"disconnectedCallback",value:function(){this._observer.disconnect(),window.removeEventListener("scroll"),this._slot.removeEventListener("slotchange",this._init),window.removeEventListener("resize",this._handleResize)}},{key:"attributeChangedCallback",value:function(e,t,i){switch(r(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"attributeChangedCallback",this).call(this,e,t,i),e){case"pfe-c-offset":this.sectionMargin=i}}},{key:"_init",value:function(){window.addEventListener("scroll",this._scrollCallback),this.scrollTarget=this.getAttribute("pfe-c-scrolltarget"),this.JumpLinksNav=document.querySelector("#"+this.scrollTarget),this.sections=this.querySelectorAll(".pfe-jump-links-panel__section"),this.JumpLinksNav&&(this.menu_links=this.JumpLinksNav.querySelectorAll("a"))}},{key:"_handleResize",value:function(){this.nav._reportHeight(),this.sectionMargin=this.getAttribute("pfe-c-offset"),this.customVar=this.cssVariable("--pfe-jump-links-panel--offset")||200}},{key:"_getNav",value:function(){return document.querySelector("pfe-jump-links-nav#"+this.getAttribute("pfe-c-scrolltarget"))}},{key:"_makeActive",value:function(e){if(this.menu_links[e]){this.menu_links[e].classList.contains("sub-section")?(this.menu_links[e].setAttribute("active",""),this.menu_links[e].parentNode.parentNode.parentNode.setAttribute("active",""),this.menu_links[e].parentNode.parentNode.parentNode.classList.add("expand")):this.menu_links[e].classList.contains("has-sub-section")?(this.menu_links[e].setAttribute("active",""),this.menu_links[e].parentNode.setAttribute("active",""),this.menu_links[e].parentNode.classList.add("expand")):(this.menu_links[e].setAttribute("active",""),this.menu_links[e].parentNode.setAttribute("active",""));var t=this.JumpLinksNav.querySelector("[active]");this.emitEvent(v.events.activeNavItem,{detail:{activeNavItem:t}})}}},{key:"_removeActive",value:function(e){this.menu_links[e]&&(this.menu_links[e].classList.contains("sub-section")&&this.menu_links[e].parentNode.parentNode.parentNode.classList.remove("expand"),this.menu_links[e].removeAttribute("active"),this.menu_links[e].parentNode.removeAttribute("active"))}},{key:"_removeAllActive",value:function(){var t=this;Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i},Object.keys.forEach=Array.forEach),[].concat(s(Array(this.sections.length).keys())).forEach(function(e){t._removeActive(e)})}},{key:"_mutationCallback",value:function(){window.ShadyCSS&&this._observer.disconnect(),this.nav||(this.nav=document.querySelector("pfe-jump-links-nav#"+this.getAttribute("pfe-c-scrolltarget"))),this.nav.hasAttribute("autobuild")&&(this._init(),this.emitEvent(v.events.change),this.nav._rebuildNav()),window.ShadyCSS&&this._observer.observe(this,c)}},{key:"_scrollCallback",value:function(){var t=this,e=void 0;this.sections&&void 0!==this.sections?e=this.sections:this.sections=this.querySelectorAll(".pfe-jump-links-panel__section"),(this.menu_links.length<1||!this.menu_links)&&(this.menu_links=this.JumpLinksNav.shadowRoot.querySelectorAll("a"),this.menu_links);var i=[].concat(s(e)),n=i.filter(function(e){return window.scrollY>=e.offsetTop-t.offsetValue}).reverse(),o=i.indexOf(n[0]);o!==this.currentActive&&(this._removeAllActive(),this.currentActive=o,this._makeActive(o))}}]),v);function v(){t(this,v);var e=a(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,v,{type:v.PfeType}));return e._init=e._init.bind(e),e._slot=e.shadowRoot.querySelector("slot"),e._slot.addEventListener("slotchange",e._init),e._scrollCallback=e._scrollCallback.bind(e),e._mutationCallback=e._mutationCallback.bind(e),e._handleResize=e._handleResize.bind(e),e._observer=new MutationObserver(e._mutationCallback),e.currentActive=null,e.currentActive=0,e.current=-1,window.addEventListener("resize",e._handleResize),e}return e.create(p),e.create(h),e.create(d),p});
//# sourceMappingURL=pfe-jump-links.umd.min.js.map
