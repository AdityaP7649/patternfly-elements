@import "../../pfe-sass/pfe-sass";

/// ===========================================================================
/// DEFAULT ACCORDION HEADING
/// ===========================================================================

:host {
  @include  pfe-accordion-header;

  button {
    @include pfe-trigger-button; // border 3px
    @include pfe-trigger-color-light;

    &[aria-expanded="true"] {
        @include pfe-trigger-color-light-expanded;
        @include pfe-trigger-expanded;
    }

    &[aria-expanded="true"]::after {
        @include pfe-chevron-expanded-true;
    }
    &[aria-expanded="false"]::after {
        @include pfe-chevron-expanded-false;
    }
  }
}

////////// last child

:host([color="darker"]:last-of-type),
:host([color="darkest"]:last-of-type) {
  button[aria-expanded="false"] {
    @include pfe-trigger-button-last($theme: dark);
  }  
}

:host([color="lighter"]:last-of-type),
:host([color="lightest"]:last-of-type) {
  button[aria-expanded="false"] {
    @include pfe-trigger-button-last($theme: light);
  }  
}

:host([color="darker"]:first-child),
:host([color="darkest"]:first-child) {
  button {
    @include pfe-trigger-button-first($theme: dark);
  }  
}

:host(:first-child),
:host([color="lighter"]:first-child),
:host([color="lightest"]:first-child) {
  button {
    @include pfe-trigger-button-first($theme: light);
  }  
}


// Add border bottom to the last button in an accordion set.
:host(:last-of-type) {
  button[aria-expanded="false"] {
    @include pfe-trigger-button-last;
  }  
}

:host(.animating) {
  transition: transform 0.3s #{pfe-var(animation-timing)};
}

h1, h2, h3, h4, h5, h6 {
  margin: 1px; // Gives the 1px spacing between each + room for focus border.
}

/// ===========================================================================
/// COLOR OVERRIDES
/// ===========================================================================

:host([color="lighter"]),
:host([color="lightest"]) {
    button {
      @include pfe-trigger-color-lightest;

      &[aria-expanded="true"] {
        @include pfe-trigger-color-light-expanded;
      }
    }
}

:host([color="lighter"]),
:host([color="lightest"]) {
  @include pfe-trigger-color-lightest;
}

:host([on="dark"]) {
  button {
    @include pfe-trigger-color-dark; 
  }
}

:host([color="darker"]),
:host([color="darkest"]) {
  button {
    @include pfe-trigger-color-darkest;

    &[aria-expanded="true"] {
      @include pfe-trigger-color-dark-expanded;
    }
  }
}
:host([on="dark"]),
:host([color="darker"]),
:host([color="darkest"]) {
  @include pfe-trigger-color-darkest;
}

