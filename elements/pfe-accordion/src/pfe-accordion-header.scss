@import "../../pfe-sass/pfe-sass";

/// ===========================================================================
/// DEFAULT ACCORDION HEADING
/// ===========================================================================

:host {
  @include  pfe-accordion-header;

  button {
    @include pfe-trigger-button($component-name: accordion); // border 3px
    @include pfe-trigger-color($component-name: accordion);

    &[aria-expanded="true"] {
        @include pfe-trigger-color-expanded($component-name: accordion);
        @include pfe-trigger-expanded;
    }

    &[aria-expanded="true"]::after {
        @include pfe-chevron-expanded;
    }

    &[aria-expanded="false"]::after {
        @include pfe-chevron-expanded($state: false);
    }
  }
}

:host(:first-child),
:host([color="lighter"]:first-child),
:host([color="lightest"]:first-child) {
  button {
    @include pfe-trigger-button-first($theme: light);
  }  
}


// Add border bottom to the last button in an accordion set.
:host(:last-of-type) {
  button[aria-expanded="false"] {
    @include pfe-trigger-button-last;
  }  
}

:host(.animating) {
  transition: transform 0.3s #{pfe-var(animation-timing)};
}

/// ===========================================================================
/// COLOR OVERRIDES
/// ===========================================================================

:host([on="dark"]) {
  button {
    @include pfe-trigger-color($theme: dark, $component-name: accordion);

    &[aria-expanded="true"] {
      @include pfe-trigger-color-expanded($theme: dark, $component-name: accordion);
    }
  }
}
