{"version":3,"file":"pfe-select.umd.js","sources":["../_temp/polyfills--pfe-select.js","../_temp/pfe-select.umd.js"],"sourcesContent":["// -- POLYFILLS: Object.assign, for IE11\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\nif (typeof Object.assign !== 'function') {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.defineProperty(Object, \"assign\", {\n        value: function assign(target, varArgs) { // .length of function is 2\n        'use strict';\n        if (target === null || target === undefined) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var to = Object(target);\n\n        for (var index = 1; index < arguments.length; index++) {\n            var nextSource = arguments[index];\n\n            if (nextSource !== null && nextSource !== undefined) {\n            for (var nextKey in nextSource) {\n                // Avoid bugs when hasOwnProperty is shadowed\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                to[nextKey] = nextSource[nextKey];\n                }\n            }\n            }\n        }\n        return to;\n        },\n        writable: true,\n        configurable: true\n    });\n}","/*!\n * PatternFly Elements: PfeSelect 1.0.0-prerelease.36\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\n// Import polyfills: assign\nimport \"./polyfills--pfe-select.js\";\n\nimport PFElement from \"../../pfelement/dist/pfelement.umd\";\n\nclass PfeSelect extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.36\";\n  }\n\n  get html() {\n    return `<style>:host{--pfe-select--BackgroundColor:var(--pfe-theme--color--surface--lightest, #fff);--pfe-select--Color:var(--pfe-theme--color--text, #333);--pfe-select--BorderBottomColor:var(--pfe-theme--color--surface--darker, #464646);--pfe-select--BorderBottomColor--hover:var(--pfe-theme--color--link, #06c);--pfe-select--BorderBottomColor--error:var(--pfe-theme--color--feedback--critical, #bb0000);--pfe-select--BorderColor:var(--pfe-theme--color--surface--lighter, #ececec);--pfe-select--BorderWidth:var(--pfe-theme--ui--border-width, 1px);--pfe-select--BorderBottomWidth:var(--pfe-theme--ui--border-width, 1px);--pfe-select--BorderTop:var(--pfe-select--BorderWidth) var(--pfe-theme--ui--border-style, solid) var(--pfe-select--BorderColor);--pfe-select--BorderLeft:var(--pfe-select--BorderWidth) var(--pfe-theme--ui--border-style, solid) var(--pfe-select--BorderColor);--pfe-select--BorderRight:var(--pfe-select--BorderWidth) var(--pfe-theme--ui--border-style, solid) var(--pfe-select--BorderColor);--pfe-select--BorderBottom:var(--pfe-select--BorderBottomWidth) var(--pfe-theme--ui--border-style, solid) var(--pfe-select--BorderBottomColor);--pfe-select--BorderBottom--hover:var(--pfe-select--BorderBottomWidth) var(--pfe-theme--ui--border-style, solid) var(--pfe-select--BorderBottomColor--hover);position:relative;display:inline-block;width:100%;line-height:1.5em;font-weight:400;text-align:left;text-rendering:optimizelegibility;border-top:var(--pfe-select--BorderTop);border-right:var(--pfe-select--BorderRight);border-bottom:var(--pfe-select--BorderBottom);border-left:var(--pfe-select--BorderLeft);background-color:var(--pfe-select--BackgroundColor);color:var(--pfe-select--Color)}:host *,:host ::after,:host ::before{-webkit-box-sizing:border-box;box-sizing:border-box}:host::after{border-style:solid;border-style:var(--pfe-theme--surface--border-style,solid);border-width:6px 6px 0;border-color:transparent;border-top-color:#131313;-webkit-transform:rotate(0);transform:rotate(0);display:inline-block;content:\"\";position:absolute;top:calc(16px * .875);top:calc(var(--pfe-theme--container-padding,16px) * .875);right:calc(16px * .75);right:calc(var(--pfe-theme--container-padding,16px) * .75)}:host([hidden]){display:none}:host(:hover){border-bottom:var(--pfe-select--BorderBottom--hover)}:host(:focus-within){border-bottom-width:calc(4px / 2);border-bottom-width:calc(var(--pfe-theme--surface--border-width--heavy,4px)/ 2);border-bottom-color:var(--pfe-select--BorderBottomColor--hover)}:host(:focus-within) ::slotted(select){padding-bottom:calc(1rem * .438);padding-bottom:calc(var(--pfe-theme-container-padding,1rem) * .438)}:host ::slotted(select){text-rendering:auto!important;background-color:var(--pfe-select--BackgroundColor);color:var(--pfe-select--Color);border-radius:0;width:100%;min-width:100%;font-size:16px;font-size:var(--pfe-theme--font-size,16px);font-weight:500;font-weight:var(--pfe-theme--font-weight--normal,500);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-shadow:none;box-shadow:none;border:none;padding:calc(16px * .5);padding:calc(var(--pfe-theme--container-padding,16px) * .5);padding-right:calc(16px * 1.5);padding-right:calc(var(--pfe-theme--container-padding,16px) * 1.5)}:host([pfe-invalid]){border-bottom-width:calc(4px / 2);border-bottom-width:calc(var(--pfe-theme--surface--border-width--heavy,4px)/ 2);border-bottom-color:var(--pfe-select--BorderBottomColor--error)}:host([pfe-invalid]) ::slotted(select){padding-bottom:calc(16px * .438);padding-bottom:calc(var(--pfe-theme--container-padding,16px) * .438);background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23c9190b' d='M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z'/%3E%3C/svg%3E\");background-size:.875rem;background-repeat:no-repeat;background-position:calc(100% - calc(16px * 2)) center;background-position:calc(100% - calc(var(--pfe-theme--container-padding,16px) * 2)) center}\n/*# sourceMappingURL=pfe-select.min.css.map */\n</style><slot></slot>`;\n  }\n  static get tag() {\n    return \"pfe-select\";\n  }\n\n  get templateUrl() {\n    return \"pfe-select.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-select.scss\";\n  }\n\n  get pfeOptions() {\n    return this._pfeOptions;\n  }\n\n  set pfeOptions(options) {\n    this._pfeOptions = options.filter(el => el.selected).length > 1 ? this._handleMultipleSelectedValues(options) : options;\n    this._modifyDOM();\n  }\n\n  get pfeInvalid() {\n    return this.getAttribute('pfe-invalid');\n  }\n\n  set pfeInvalid(invalidAttr) {\n    if (!invalidAttr) {\n      return;\n    }\n    this.querySelector('select').setAttribute('aria-invalid', invalidAttr);\n  }\n\n  static get observedAttributes() {\n    return [\"pfe-invalid\"];\n  }\n\n  constructor() {\n    super(PfeSelect);\n    this._pfeOptions = null;\n    this._init = this._init.bind(this);\n    this._inputChanged = this._inputChanged.bind(this);\n\n    this.observer = new MutationObserver(this._init);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    customElements.whenDefined(PfeSelect.tag).then(() => {\n      if (this.pfeOptions) {\n        this._modifyDOM();\n        this._init();\n      } else {\n        if (this.children.length) {\n          this._init();\n        } else {\n          console.warn(`${PfeSelect.tag}: The first child in the light DOM must be a supported select tag`);\n        }\n      }\n    });\n    this.observer.observe(this, { childList: true });\n  }\n\n  attributeChangedCallback(attr, oldValue, newValue) {\n    super.attributeChangedCallback(attr, oldValue, newValue);\n    this.pfeInvalid = newValue;\n  }\n\n  disconnectedCallback() {\n    this.observer.disconnect();\n    this._input.removeEventListener(\"input\", this._inputChanged);\n  }\n\n  addOptions(options) {\n    // Reset the pfeOptions by concatenating newly added options with _pfeOptions\n    this._pfeOptions = this._pfeOptions ? this._pfeOptions.concat(options) : options;\n  }\n\n  _handleMultipleSelectedValues(options) {\n    // Warn if options array has more than one selected value set as true\n    console.warn(`${PfeSelect.tag}: The first 'selected' option will take precedence over others incase of multiple 'selected' options`);\n    // Get the index of the first element with selected \"true\"\n    const firstIndex = options.findIndex(el => el.selected);\n    // Update the options array with precedence to first element with selected value as true\n    return options.map((el, idx) => {\n      el.selected = firstIndex == idx;\n      return el;\n    });\n  }\n\n  _init() {\n    this._input = this.querySelector(\"select\");\n    if (!this._input) {\n      console.warn(`${PfeSelect.tag}: The first child needs to be a select element`);\n      return;\n    }\n    this._input.addEventListener(\"change\", this._inputChanged);\n  }\n\n  _inputChanged() {\n    this.dispatchEvent(new CustomEvent(`${this.tag}:change`, {\n      detail: { value: this._input.value },\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  _modifyDOM() {\n    // Create select element\n    let pfeSelect = document.createElement('select');\n    // Create option element for each element in _pfeOptions array\n    this._pfeOptions.map(el => {\n      const option = Object.assign(document.createElement('option') , el);\n      pfeSelect.add(option, null);\n    });\n    // if select already exists in the DOM then replace the old select with the new _pfeOptions array\n    if (this.children.length) {\n      const select = this.querySelector('select');\n      select.parentNode.replaceChild(pfeSelect, select);\n    } else {\n      // Otherwise create a new select element\n      this.appendChild(pfeSelect);\n    }\n  }\n\n}\n\nPFElement.create(PfeSelect);\n\nexport default PfeSelect;\n"],"names":["Object","assign","defineProperty","value","target","varArgs","undefined","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","writable","configurable","PfeSelect","_pfeOptions","options","filter","el","selected","_handleMultipleSelectedValues","_modifyDOM","getAttribute","invalidAttr","querySelector","setAttribute","_init","bind","_inputChanged","observer","MutationObserver","customElements","whenDefined","tag","then","pfeOptions","children","console","warn","observe","childList","attr","oldValue","newValue","pfeInvalid","disconnect","_input","removeEventListener","concat","firstIndex","findIndex","map","idx","addEventListener","dispatchEvent","CustomEvent","detail","bubbles","composed","pfeSelect","document","createElement","option","add","select","parentNode","replaceChild","appendChild","PFElement","create"],"mappings":";;;;;;;;IAAA;IACA;IACA,IAAI,OAAOA,OAAOC,MAAd,KAAyB,UAA7B,EAAyC;IACrC;IACAD,WAAOE,cAAP,CAAsBF,MAAtB,EAA8B,QAA9B,EAAwC;IACpCG,eAAO,SAASF,MAAT,CAAgBG,MAAhB,EAAwBC,OAAxB,EAAiC;AAAE;IAE1C,gBAAID,WAAW,IAAX,IAAmBA,WAAWE,SAAlC,EAA6C;IACzC,sBAAM,IAAIC,SAAJ,CAAc,4CAAd,CAAN;IACH;;IAED,gBAAIC,KAAKR,OAAOI,MAAP,CAAT;;IAEA,iBAAK,IAAIK,QAAQ,CAAjB,EAAoBA,QAAQC,UAAUC,MAAtC,EAA8CF,OAA9C,EAAuD;IACnD,oBAAIG,aAAaF,UAAUD,KAAV,CAAjB;;IAEA,oBAAIG,eAAe,IAAf,IAAuBA,eAAeN,SAA1C,EAAqD;IACrD,yBAAK,IAAIO,OAAT,IAAoBD,UAApB,EAAgC;IAC5B;IACA,4BAAIZ,OAAOc,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,UAArC,EAAiDC,OAAjD,CAAJ,EAA+D;IAC/DL,+BAAGK,OAAH,IAAcD,WAAWC,OAAX,CAAd;IACC;IACJ;IACA;IACJ;IACD,mBAAOL,EAAP;IACC,SAtBmC;IAuBpCS,kBAAU,IAvB0B;IAwBpCC,sBAAc;IAxBsB,KAAxC;IA0BH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC9BD;;;;;;;;;;;;;;;;;;;;;;;;;QA8BMC;;;;+BAKO;IACT;IAGD;;;+BAKiB;IAChB,aAAO,iBAAP;IACD;;;+BAEc;IACb,aAAO,iBAAP;IACD;;;+BAEgB;IACf,aAAO,KAAKC,WAAZ;IACD;6BAEcC,SAAS;IACtB,WAAKD,WAAL,GAAmBC,QAAQC,MAAR,CAAe;IAAA,eAAMC,GAAGC,QAAT;IAAA,OAAf,EAAkCb,MAAlC,GAA2C,CAA3C,GAA+C,KAAKc,6BAAL,CAAmCJ,OAAnC,CAA/C,GAA6FA,OAAhH;IACA,WAAKK,UAAL;IACD;;;+BAEgB;IACf,aAAO,KAAKC,YAAL,CAAkB,aAAlB,CAAP;IACD;6BAEcC,aAAa;IAC1B,UAAI,CAACA,WAAL,EAAkB;IAChB;IACD;IACD,WAAKC,aAAL,CAAmB,QAAnB,EAA6BC,YAA7B,CAA0C,cAA1C,EAA0DF,WAA1D;IACD;;;+BAvCoB;IACnB,aAAO,qBAAP;IACD;;;+BAOgB;IACf,aAAO,YAAP;IACD;;;+BA8B+B;IAC9B,aAAO,CAAC,aAAD,CAAP;IACD;;;IAED,uBAAc;IAAA;;IAAA,qHACNT,SADM;;IAEZ,UAAKC,WAAL,GAAmB,IAAnB;IACA,UAAKW,KAAL,GAAa,MAAKA,KAAL,CAAWC,IAAX,OAAb;IACA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBD,IAAnB,OAArB;;IAEA,UAAKE,QAAL,GAAgB,IAAIC,gBAAJ,CAAqB,MAAKJ,KAA1B,CAAhB;IANY;IAOb;;;;4CAEmB;IAAA;;IAClB;IACAK,qBAAeC,WAAf,CAA2BlB,UAAUmB,GAArC,EAA0CC,IAA1C,CAA+C,YAAM;IACnD,YAAI,OAAKC,UAAT,EAAqB;IACnB,iBAAKd,UAAL;IACA,iBAAKK,KAAL;IACD,SAHD,MAGO;IACL,cAAI,OAAKU,QAAL,CAAc9B,MAAlB,EAA0B;IACxB,mBAAKoB,KAAL;IACD,WAFD,MAEO;IACLW,oBAAQC,IAAR,CAAgBxB,UAAUmB,GAA1B;IACD;IACF;IACF,OAXD;IAYA,WAAKJ,QAAL,CAAcU,OAAd,CAAsB,IAAtB,EAA4B,EAAEC,WAAW,IAAb,EAA5B;IACD;;;iDAEwBC,MAAMC,UAAUC,UAAU;IACjD,oIAA+BF,IAA/B,EAAqCC,QAArC,EAA+CC,QAA/C;IACA,WAAKC,UAAL,GAAkBD,QAAlB;IACD;;;+CAEsB;IACrB,WAAKd,QAAL,CAAcgB,UAAd;IACA,WAAKC,MAAL,CAAYC,mBAAZ,CAAgC,OAAhC,EAAyC,KAAKnB,aAA9C;IACD;;;mCAEUZ,SAAS;IAClB;IACA,WAAKD,WAAL,GAAmB,KAAKA,WAAL,GAAmB,KAAKA,WAAL,CAAiBiC,MAAjB,CAAwBhC,OAAxB,CAAnB,GAAsDA,OAAzE;IACD;;;sDAE6BA,SAAS;IACrC;IACAqB,cAAQC,IAAR,CAAgBxB,UAAUmB,GAA1B;IACA;IACA,UAAMgB,aAAajC,QAAQkC,SAAR,CAAkB;IAAA,eAAMhC,GAAGC,QAAT;IAAA,OAAlB,CAAnB;IACA;IACA,aAAOH,QAAQmC,GAAR,CAAY,UAACjC,EAAD,EAAKkC,GAAL,EAAa;IAC9BlC,WAAGC,QAAH,GAAc8B,cAAcG,GAA5B;IACA,eAAOlC,EAAP;IACD,OAHM,CAAP;IAID;;;gCAEO;IACN,WAAK4B,MAAL,GAAc,KAAKtB,aAAL,CAAmB,QAAnB,CAAd;IACA,UAAI,CAAC,KAAKsB,MAAV,EAAkB;IAChBT,gBAAQC,IAAR,CAAgBxB,UAAUmB,GAA1B;IACA;IACD;IACD,WAAKa,MAAL,CAAYO,gBAAZ,CAA6B,QAA7B,EAAuC,KAAKzB,aAA5C;IACD;;;wCAEe;IACd,WAAK0B,aAAL,CAAmB,IAAIC,WAAJ,CAAmB,KAAKtB,GAAxB,cAAsC;IACvDuB,gBAAQ,EAAE1D,OAAO,KAAKgD,MAAL,CAAYhD,KAArB,EAD+C;IAEvD2D,iBAAS,IAF8C;IAGvDC,kBAAU;IAH6C,OAAtC,CAAnB;IAKD;;;qCAEY;IACX;IACA,UAAIC,YAAYC,SAASC,aAAT,CAAuB,QAAvB,CAAhB;IACA;IACA,WAAK9C,WAAL,CAAiBoC,GAAjB,CAAqB,cAAM;IACzB,YAAMW,SAASnE,OAAOC,MAAP,CAAcgE,SAASC,aAAT,CAAuB,QAAvB,CAAd,EAAiD3C,EAAjD,CAAf;IACAyC,kBAAUI,GAAV,CAAcD,MAAd,EAAsB,IAAtB;IACD,OAHD;IAIA;IACA,UAAI,KAAK1B,QAAL,CAAc9B,MAAlB,EAA0B;IACxB,YAAM0D,SAAS,KAAKxC,aAAL,CAAmB,QAAnB,CAAf;IACAwC,eAAOC,UAAP,CAAkBC,YAAlB,CAA+BP,SAA/B,EAA0CK,MAA1C;IACD,OAHD,MAGO;IACL;IACA,aAAKG,WAAL,CAAiBR,SAAjB;IACD;IACF;;;MApIqBS;;IAwIxBA,UAAUC,MAAV,CAAiBvD,SAAjB;;;;;;;;"}