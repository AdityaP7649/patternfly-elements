@import "../../pfe-sass/pfe-sass";
$LOCAL: modal;

:host {
	--pfe-modal--MaxWidth: 70vw;
	--pfe-modal--MinWidth: 50vw;
	--pfe-modal--MaxHeight: 70vh;
	--pfe-modal--MinHeight: 40vh;
	--pfe-modal--Padding: calc(#{pfe-var(container-padding)} * 2);
	--pfe-modal__overlay--BackgroundColor: #{pfe-color(overlay)};

	display: block;
	background-color: white;
}

:host(:not([has_header])) {
	--pfe-modal--Padding: calc(#{pfe-var(container-padding)} * 2) calc(#{pfe-var(container-padding)} * 4) calc(#{pfe-var(container-padding)} * 2) calc(#{pfe-var(container-padding)} * 2);
}

::slotted([slot="pfe-modal--header"]) {
	margin-top: 0;
}

::slotted(:not([slot]):first-child) {
	margin-top: 0;
  	display: block;
}

.pfe-modal {
	&__wrapper {
		position: absolute;
		z-index: 2;
		top: calc(#{pfe-local(MaxHeight)} - 50vh);
		left: 0;
		right: 0;
		max-width: pfe-local(MaxWidth);
		min-width: pfe-local(MinWidth);
		max-height: pfe-local(MaxHeight);
		min-height: pfe-local(MinHeight);
		margin: 0 auto;
		box-shadow: pfe-var(box-shadow--lg);
		background-color: pfe-color(surface--lightest);
		border-radius: #{pfe-var(ui--border-radius)};
	}
	&__container {
		padding: pfe-local(Padding);
		max-width: calc(100% - #{pfe-var(ui--element--size)});
		&[hidden] {
			display: none;
		}
	}

	&__close {
		@include pfe-reset-button;
		position: absolute;
		top: calc(#{pfe-var(container-padding)} * 2);
		right: calc(#{pfe-var(container-padding)} * 2);
		cursor: pointer;
		line-height: .5;
		> svg {
			fill: pfe-radio(text);
			height: pfe-var(ui--element--size);
			width: pfe-var(ui--element--size);
		}
	}

	&__overlay {
		display: block;
		background-color: pfe-local($cssvar: BackgroundColor, $region: overlay);
		position: absolute;
		top: 0;
		left: 0;
		width: 100%; // Fallback
		width: 100vw;
		height: 100%; // Fallback
		height: 100vh;
		z-index: 1;
		&[hidden] {
			display: none;
		}
	}
}
