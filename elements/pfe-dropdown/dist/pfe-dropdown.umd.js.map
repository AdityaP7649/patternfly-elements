{"version":3,"file":"pfe-dropdown.umd.js","sources":["../_temp/pfe-dropdown-item.js","../_temp/pfe-dropdown.umd.js"],"sourcesContent":["/*!\n * PatternFly Elements: PfeDropdown 1.0.0-prerelease.31\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement.js\";\n\nclass PfeDropdownItem extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.31\";\n  }\n\n  get html() {\n    return `<style>:host{--pfe-dropdown-item--PaddingTop:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown-item--PaddingRight:var(--pfe-theme--container-padding, 16px);--pfe-dropdown-item--PaddingBottom:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown-item--PaddingLeft:var(--pfe-theme--container-padding, 16px);--pfe-dropdown-item--FontSize:var(--pfe-theme--font-size, 16px);--pfe-dropdown-item--FontWeight:400;--pfe-dropdown-item--LineHeight:var(--pfe-theme--line-height, 1.5);--pfe-dropdown-item--Color:#151515;--pfe-dropdown-item--Color--hover:#151515;--pfe-dropdown-item--TextAlign:left;--pfe-dropdown-item--WhiteSpace:nowrap;--pfe-dropdown-item--BackgroundColor:transparent;--pfe-dropdown-item--BackgroundColor--hover:#ededed;--pfe-dropdown-item--Border:none;--pfe-dropdown-item--BoxSizing:border-box;--pfe-dropdown-item--TextDecoration:none;--pfe-dropdown-item--Height:1px;--pfe-dropdown-item--MarginTop:0.5rem;--pfe-dropdown-item--MarginBottom:0.5rem}::slotted(*){display:block;width:100%;padding-top:var(--pfe-dropdown-item--PaddingTop);padding-right:var(--pfe-dropdown-item--PaddingRight);padding-bottom:var(--pfe-dropdown-item--PaddingBottom);padding-left:var(--pfe-dropdown-item--PaddingLeft);font-size:var(--pfe-dropdown-item--FontSize);font-weight:var(--pfe-dropdown-item--FontWeight);line-height:var(--pfe-dropdown-item--LineHeight);color:var(--pfe-dropdown-item--Color);text-align:var(--pfe-dropdown-item--TextAlign);white-space:var(--pfe-dropdown-item--WhiteSpace);background-color:var(--pfe-dropdown-item--BackgroundColor);border:var(--pfe-dropdown-item--Border);-webkit-box-sizing:var(--pfe-dropdown-item--BoxSizing);box-sizing:var(--pfe-dropdown-item--BoxSizing);-webkit-text-decoration:var(--pfe-dropdown-item--TextDecoration);text-decoration:var(--pfe-dropdown-item--TextDecoration);font-family:inherit}::slotted(:hover){color:var(--pfe-dropdown-item--Color--hover);background-color:var(--pfe-dropdown-item--BackgroundColor--hover)}:host([pfe-type=separator]) .pfe-dropdown-item__container{height:var(--pfe-dropdown-item--Height);margin-top:var(--pfe-dropdown-item--MarginTop);background-color:#d2d2d2;border:0}:host([disabled]) .pfe-dropdown-item__container{pointer-events:none;--pfe-dropdown-item--Color:#737679;--pfe-dropdown-item--BackgroundColor:transparent}\n/*# sourceMappingURL=pfe-dropdown-item.min.css.map */\n</style><li class=\"pfe-dropdown-item__container\" id=\"pfe-dropdown-item\">\n  <slot></slot>\n</li>`;\n  }\n  static get tag() {\n    return \"pfe-dropdown-item\";\n  }\n\n  get templateUrl() {\n    return \"pfe-dropdown-item.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-dropdown-item.scss\";\n  }\n\n  static get observedAttributes() {\n    return [\"pfe-type\", \"disabled\"];\n  }\n\n  constructor() {\n    super(PfeDropdownItem);\n\n    this._container = this.shadowRoot.querySelector(`.${this.tag}__container`);\n    this._item = this.shadowRoot.querySelector(\"slot\").assignedNodes()[1];\n  }\n\n  attributeChangedCallback(attr, oldValue, newValue) {\n    switch (attr) {\n      case \"pfe-type\":\n        this._setAccessibility();\n        break;\n      case \"disabled\":\n        this._setDisabled();\n        break;\n      default:\n        break;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n  }\n\n  _setAccessibility() {\n    if (this._container && this._item) {\n      const type = this.getAttribute(\"pfe-type\");\n      if (type) {\n        switch (type) {\n          case \"link\":\n            this._container.setAttribute(\"role\", \"none\");\n            this._item.setAttribute(\"role\", \"menuitem\");\n            break;\n          case \"action\":\n            this._container.setAttribute(\"role\", \"menuitem\");\n            this._item.removeAttribute(\"role\");\n            break;\n          case \"separator\":\n            this._container.setAttribute(\"role\", \"separator\");\n          default:\n            break;\n        }\n      }\n    }\n  }\n\n  _setDisabled() {\n    const isDisabled = this.hasAttribute(\"disabled\");\n    if (isDisabled) {\n      this.removeAttribute(\"tabindex\");\n      this.setAttribute(\"aria-disabled\", \"true\");\n    } else {\n      this.removeAttribute(\"disabled\");\n      this.setAttribute(\"tabindex\", \"0\");\n      this.setAttribute(\"aria-disabled\", \"false\");\n    }\n  }\n}\n\nexport default PfeDropdownItem;\n","/*!\n * PatternFly Elements: PfeDropdown 1.0.0-prerelease.31\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement.umd\";\nimport PfeDropdownItem from \"./pfe-dropdown-item.js\";\n\nconst KEYCODE = {\n  DOWN: 40,\n  END: 35,\n  ENTER: 13,\n  ESC: 27,\n  HOME: 36,\n  LEFT: 37,\n  RIGHT: 39,\n  SPACE: 0 || 32,\n  UP: 38\n};\n\nclass PfeDropdown extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.31\";\n  }\n\n  get html() {\n    return `<style>:host{--pfe-dropdown__toggle--Position:relative;--pfe-dropdown__toggle--Display:flex;--pfe-dropdown__toggle--AlignItems:center;--pfe-dropdown__toggle--JustifyContent:space-between;--pfe-dropdown__toggle--MinWidth:calc(var(--pfe-theme--container-spacer, 16px) * 2);--pfe-dropdown__toggle--MaxWidth:100%;--pfe-dropdown__toggle--PaddingTop:calc(var(--pfe-theme--container-padding, 16px) * 0.375);--pfe-dropdown__toggle--PaddingRight:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown__toggle--PaddingBottom:calc(var(--pfe-theme--container-padding, 16px) * 0.375);--pfe-dropdown__toggle--PaddingLeft:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown__toggle--FontSize:var(--pfe-theme--font-size, 16px);--pfe-dropdown__toggle--FontWeight:400;--pfe-dropdown__toggle--LineHeight:var(--pfe-theme--line-height, 1.5);--pfe-dropdown__toggle--Color:var(--pfe-theme--color--text, #333);--pfe-dropdown__toggle--BackgroundColor:transparent;--pfe-dropdown__toggle--Border:none;--pfe-dropdown__toggle--BorderBottomColor--before:#8a8d90;--pfe-dropdown__toggle--BorderBottomColor--before--hover:var(--pfe-theme--color--link, #06c);--pfe-dropdown__toggle--BorderWidth--before:var(--pfe-theme--ui--border-width, 1px);--pfe-dropdown__toggle--BorderWidth--before--hover:calc(var(--pfe-theme--ui--border-width, 1px) * 2);--pfe-dropdown__toggle--BorderTopColor--before:#ededed;--pfe-dropdown__toggle--BorderRightColor--before:#ededed;--pfe-dropdown__toggle--BorderLeftColor--before:#ededed;--pfe-dropdown__toggle--BorderStyle--before:solid;--pfe-dropdown__toggle-text--Overflow:hidden;--pfe-dropdown__toggle-text--TextOverflow:ellipsis;--pfe-dropdown__toggle-text--WhiteSpace:nowrap;--pfe-dropdown__toggle-icon--VerticalAlign:calc(var(--pfe-theme--container-spacer, 16px) * -0.125);--pfe-dropdown__toggle-icon--Height:var(--pfe-theme--icon-size, 1em);--pfe-dropdown__toggle-icon--Width:var(--pfe-theme--icon-size, 1em);--pfe-dropdown__toggle-icon--MarginRight:calc(var(--pfe-theme--container-spacer, 16px) * 0.5);--pfe-dropdown__toggle-icon--MarginLeft:var(--pfe-theme--container-spacer, 16px);--pfe-dropdown__toggle-icon--LineHeight:var(--pfe-theme--line-height, 1.5);--pfe-dropdown__menu--Top:calc(100% + 0.25rem);--pfe-dropdown__menu--ZIndex:200;--pfe-dropdown__menu--PaddingTop:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown__menu--PaddingBottom:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown__menu--PaddingRight:0;--pfe-dropdown__menu--PaddingLeft:0;--pfe-dropdown__menu--Margin:0;--pfe-dropdown__menu--Background:var(--pfe-theme--color--surface--lightest, #fff);--pfe-dropdown__menu--BackgroundClip:padding-box;--pfe-dropdown__menu--BorderWidth:var(--pfe-theme--ui--border-width, 1px);--pfe-dropdown__menu--BorderStyle:var(--pfe-theme--ui--border-style, solid);--pfe-dropdown__menu--BorderColor:transparent;--pfe-dropdown__menu--BoxShadow:var(--pfe-theme--box-shadow--sm, 0 0.0625rem 0.125rem 0 rgba(19, 19, 19, 0.2));--pfe-dropdown__menu--BoxSizing:border-box;--pfe-dropdown__menu--ListStyle:none;--pfe-dropdown__menu--MinWidth:100%;position:relative;display:inline-block;max-width:100%}:host([hidden]){display:none}:host([disabled]) .pfe-dropdown__container{pointer-events:none}:host([disabled]) .pfe-dropdown__toggle{--pfe-dropdown__toggle--BackgroundColor:#ededed}:host([disabled]) .pfe-dropdown__toggle::before{border:none}.pfe-dropdown__toggle{position:var(--pfe-dropdown__toggle--Position);display:var(--pfe-dropdown__toggle--Display);-webkit-box-align:var(--pfe-dropdown__toggle--AlignItems);-webkit-align-items:var(--pfe-dropdown__toggle--AlignItems);-ms-flex-align:var(--pfe-dropdown__toggle--AlignItems);align-items:var(--pfe-dropdown__toggle--AlignItems);-webkit-box-pack:var(--pfe-dropdown__toggle--JustifyContent);-webkit-justify-content:var(--pfe-dropdown__toggle--JustifyContent);-ms-flex-pack:var(--pfe-dropdown__toggle--JustifyContent);justify-content:var(--pfe-dropdown__toggle--JustifyContent);min-width:var(--pfe-dropdown__toggle--MinWidth);max-width:var(--pfe-dropdown__toggle--MaxWidth);padding-top:var(--pfe-dropdown__toggle--PaddingTop);padding-right:var(--pfe-dropdown__toggle--PaddingRight);padding-bottom:var(--pfe-dropdown__toggle--PaddingBottom);padding-left:var(--pfe-dropdown__toggle--PaddingLeft);font-size:var(--pfe-dropdown__toggle--FontSize);font-weight:var(--pfe-dropdown__toggle--FontWeight);line-height:var(--pfe-dropdown__toggle--LineHeight);color:var(--pfe-dropdown__toggle--Color);background-color:var(--pfe-dropdown__toggle--BackgroundColor);border:var(--pfe-dropdown__toggle--Border);font-family:inherit}.pfe-dropdown__toggle:active:before,.pfe-dropdown__toggle:focus:before,.pfe-dropdown__toggle:hover:before{border-bottom-color:var(--pfe-dropdown__toggle--BorderBottomColor--before--hover)}.pfe-dropdown__toggle:active:before,.pfe-dropdown__toggle:focus:before{border-width:var(--pfe-dropdown__toggle--BorderWidth--before--hover)}.pfe-dropdown__toggle:before{position:absolute;top:0;right:0;bottom:0;left:0;content:\"\";border-width:var(--pfe-dropdown__toggle--BorderWidth--before);border-style:var(--pfe-dropdown__toggle--BorderStyle--before);border-top-color:var(--pfe-dropdown__toggle--BorderTopColor--before);border-right-color:var(--pfe-dropdown__toggle--BorderRightColor--before);border-bottom-color:var(--pfe-dropdown__toggle--BorderBottomColor--before);border-left-color:var(--pfe-dropdown__toggle--BorderLeftColor--before)}.pfe-dropdown__toggle-text{overflow:var(--pfe-dropdown__toggle-text--Overflow);text-overflow:var(--pfe-dropdown__toggle-text--TextOverflow);white-space:var(--pfe-dropdown__toggle-text--WhiteSpace)}.pfe-dropdown__toggle-icon{vertical-align:var(--pfe-dropdown__toggle-icon--VerticalAlign);fill:currentColor;height:var(--pfe-dropdown__toggle-icon--Height);width:var(--pfe-dropdown__toggle-icon--Width);margin-right:var(--pfe-dropdown__toggle-icon--MarginRight);margin-left:var(--pfe-dropdown__toggle-icon--MarginLeft);line-height:var(--pfe-dropdown__toggle-icon--LineHeight)}.pfe-dropdown__menu{display:none;position:absolute;top:var(--pfe-dropdown__menu--Top);z-index:var(--pfe-dropdown__menu--ZIndex);padding-top:var(--pfe-dropdown__menu--PaddingTop);padding-bottom:var(--pfe-dropdown__menu--PaddingBottom);padding-right:var(--pfe-dropdown__menu--PaddingRight);padding-left:var(--pfe-dropdown__menu--PaddingLeft);margin:var(--pfe-dropdown__menu--Margin);background:var(--pfe-dropdown__menu--Background);background-clip:var(--pfe-dropdown__menu--BackgroundClip);border-width:var(--pfe-dropdown__menu--BorderWidth);border-style:var(--pfe-dropdown__menu--BorderStyle);border-color:var(--pfe-dropdown__menu--BorderColor);-webkit-box-shadow:var(--pfe-dropdown__menu--BoxShadow);box-shadow:var(--pfe-dropdown__menu--BoxShadow);-webkit-box-sizing:var(--pfe-dropdown__menu--BoxSizing);box-sizing:var(--pfe-dropdown__menu--BoxSizing);list-style:var(--pfe-dropdown__menu--ListStyle);min-width:var(--pfe-dropdown__menu--MinWidth)}.pfe-dropdown__menu.open{display:block}\n/*# sourceMappingURL=pfe-dropdown.min.css.map */\n</style><div class=\"pfe-dropdown__container\" id=\"pfe-dropdown-container\">\n  <button class=\"pfe-dropdown__toggle\" type=\"button\" aria-haspopup=\"menu\" aria-controls=\"pfe-dropdown-menu\"\n    id=\"pfe-dropdown-toggle\">\n    <span class=\"pfe-dropdown__toggle-text\"></span>\n    <svg class=\"pfe-dropdown__toggle-icon\" viewBox=\"0 0 320 512\" aria-hidden=\"true\" role=\"img\">\n      <path\n        d=\"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\">\n      </path>\n    </svg>\n  </button>\n  <ul class=\"pfe-dropdown__menu\" role=\"menu\" aria-labelledby=\"pfe-dropdown-toggle\" id=\"pfe-dropdown-menu\">\n    <slot></slot>\n  </ul>\n</div>`;\n  }\n  static get tag() {\n    return \"pfe-dropdown\";\n  }\n\n  get templateUrl() {\n    return \"pfe-dropdown.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-dropdown.scss\";\n  }\n\n  static get observedAttributes() {\n    return [\"pfe-label\", \"disabled\"];\n  }\n\n  get disabled() {\n    return this.hasAttribute(\"disabled\");\n  }\n\n  set pfeDropdownOptions(options) {\n    this._modifyDOM(options);\n  }\n\n  static get events() {\n    return {\n      change: `${this.tag}:change`\n    };\n  }\n\n  constructor() {\n    super(PfeDropdown);\n\n    // state\n    this.isOpen = false;\n\n    this._init = this._init.bind(this);\n\n    // elements\n    this._container = this.shadowRoot.querySelector(`#${this.tag}-container`);\n    this._toggle = this.shadowRoot.querySelector(`#${this.tag}-toggle`);\n    this._toggle_text = this._toggle.querySelector(`.${this.tag}__toggle-text`);\n    this._menu = this.shadowRoot.querySelector(`#${this.tag}-menu`);\n\n    // events\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n\n    this._clickHandler = this._clickHandler.bind(this);\n    this._toggleKeydownHandler = this._toggleKeydownHandler.bind(this);\n    this._itemKeydownHandler = this._itemKeydownHandler.bind(this);\n    this._itemClickHandler = this._itemClickHandler.bind(this);\n    this._outsideClickHandler = this._outsideClickHandler.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    document.addEventListener(\"click\", this._outsideClickHandler);\n    Promise.all([\n      customElements.whenDefined(PfeDropdown.tag),\n      customElements.whenDefined(PfeDropdownItem.tag)\n    ]).then(() => {\n      this._init();\n    });\n  }\n\n  disconnectedCallback() {\n    this._toggle.removeEventListener(\"click\", this._clickHandler);\n    this._toggle.removeEventListener(\"keydown\", this._toggleKeydownHandler);\n    this._allItems().forEach(item => {\n      item.removeEventListener(\"keydown\", this._itemKeydownHandler);\n      item.removeEventListener(\"click\", this._itemClickHandler);\n    });\n  }\n\n  attributeChangedCallback(attr, oldValue, newValue) {\n    switch (attr) {\n      case \"pfe-label\":\n        this._toggle_text.textContent = newValue;\n        break;\n\n      case \"disabled\":\n        this._setDisabled();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  _init() {\n    if (this.children.length) {\n      if (!this.disabled) {\n        this._toggle.addEventListener(\"click\", this._clickHandler);\n        this._toggle.addEventListener(\"keydown\", this._toggleKeydownHandler);\n        this._allItems().forEach(item => {\n          item.addEventListener(\"keydown\", this._itemKeydownHandler);\n          item.addEventListener(\"click\", this._itemClickHandler);\n        });\n      }\n    }\n  }\n\n  // Event handler for click event on Dropdown button\n  _clickHandler(event) {\n    this.isOpen ? this.close(event) : this.open(event);\n\n    return this;\n  }\n\n  // Event handler for click event on Dropdown Item\n  _itemClickHandler(event) {\n    let pfeType;\n\n    if (event.target.parentElement.attributes[\"pfe-type\"]) {\n      pfeType = event.target.parentElement.attributes[\"pfe-type\"].value;\n    }\n\n    this._selectItem(event.target, pfeType);\n    return this;\n  }\n\n  // Event handler for keydown events on Dropdown Menu\n  _itemKeydownHandler(event) {\n    let newItem;\n    let pfeType;\n\n    if (event.target.attributes[\"pfe-type\"]) {\n      pfeType = event.target.attributes[\"pfe-type\"].value;\n    }\n\n    switch (event.keyCode) {\n      case KEYCODE.ENTER:\n        this._selectItem(event.target.children[0], pfeType);\n        break;\n\n      case KEYCODE.ESC:\n        this.close(event);\n        break;\n\n      case KEYCODE.RIGHT:\n      case KEYCODE.DOWN:\n        newItem = this._nextItem().hasAttribute(\"disabled\")\n          ? this._skipItem(1)\n          : this._nextItem();\n        break;\n\n      case KEYCODE.LEFT:\n      case KEYCODE.UP:\n        newItem = this._prevItem().hasAttribute(\"disabled\")\n          ? this._skipItem(-1)\n          : this._prevItem();\n        break;\n\n      case KEYCODE.HOME:\n        newItem = this._firstItem();\n        break;\n\n      case KEYCODE.END:\n        newItem = this._lastItem();\n        break;\n\n      default:\n        break;\n    }\n\n    if (newItem) {\n      newItem.setAttribute(\"tabindex\", \"-1\");\n      newItem.focus();\n    }\n\n    return this;\n  }\n\n  // Event handler for click event outside the Dropdown element\n  _outsideClickHandler(event) {\n    // Check if the clicked element is the dropdown object\n    let isSelf = event.target === this;\n    // Check if the clicked element contains or is contained by the dropdown element\n    let isChild = event.target.closest(\"pfe-dropdown\");\n    let insideWrapper = event.target.tagName.includes(\"-\")\n      ? event.target.shadowRoot.querySelector(\"pfe-dropdown\")\n      : null;\n\n    // Check states to determine if the dropdown menu should close\n    if (!isSelf && !(isChild || insideWrapper)) {\n      this.close(event);\n    }\n  }\n\n  // Event handler for keydown event on Dropdown\n  _toggleKeydownHandler(event) {\n    if (event.keyCode === KEYCODE.DOWN || event.keyCode === KEYCODE.ENTER) {\n      this.open(event);\n      let newItem = this._firstItem();\n      if (newItem) {\n        if (newItem.hasAttribute(\"disabled\")) {\n          newItem = this._skipItem(1);\n        }\n        newItem.setAttribute(\"tabindex\", \"-1\");\n        newItem.focus();\n      }\n    }\n    return this;\n  }\n\n  // modify DOM if custom options are passed in an array\n  _modifyDOM(options) {\n    options.forEach(el => {\n      let item;\n      switch (el.type) {\n        case \"link\":\n          item = document.createElement(\"a\");\n          item.setAttribute(\"href\", el.href ? el.href : \"#\");\n          break;\n\n        case \"action\":\n          item = document.createElement(\"button\");\n          break;\n\n        default:\n          break;\n      }\n      const option = document.createElement(\"pfe-dropdown-item\");\n      option.setAttribute(\"pfe-type\", el.type);\n      if (el.disabled) {\n        option.setAttribute(\"disabled\", el.disabled);\n      }\n      if (item) {\n        item.innerText = el.text ? el.text : \"\";\n        option.appendChild(item);\n      }\n      this.appendChild(option);\n    });\n  }\n\n  _setDisabled() {\n    const isDisabled = this.hasAttribute(\"disabled\");\n    if (isDisabled) {\n      this.setAttribute(\"aria-disabled\", \"true\");\n    } else {\n      this.removeAttribute(\"disabled\");\n      this.setAttribute(\"aria-disabled\", \"false\");\n    }\n  }\n\n  _allItems() {\n    return [\n      ...this.querySelectorAll(`${this.tag}-item:not([pfe-type='separator'])`)\n    ];\n  }\n\n  _prevItem() {\n    const items = this._allItems();\n    let newIdx = items.findIndex(item => item === document.activeElement) - 1;\n    return items[(newIdx + items.length) % items.length];\n  }\n\n  _firstItem() {\n    const items = this._allItems();\n    return items[0];\n  }\n\n  _lastItem() {\n    const items = this._allItems();\n    return items[items.length - 1];\n  }\n\n  _nextItem() {\n    const items = this._allItems();\n    let newIdx = items.findIndex(item => item === document.activeElement) + 1;\n    return items[newIdx % items.length];\n  }\n\n  _skipItem(direction) {\n    const items = this._allItems();\n    let newIdx =\n      items.findIndex(item => item === document.activeElement) + direction;\n    return items[(newIdx % items.length) + direction];\n  }\n\n  _selectItem(item, type) {\n    if (type === \"action\") {\n      this.emitEvent(PfeDropdown.events.change, {\n        detail: { action: item.innerText }\n      });\n\n      this.close(event);\n    } else {\n      item.click();\n    }\n  }\n\n  addDropdownOptions(options) {\n    this._modifyDOM(options);\n  }\n\n  open(event) {\n    if (event) {\n      event.preventDefault();\n    }\n    this.isOpen = true;\n    this._menu.classList.add(\"open\");\n    this._toggle.setAttribute(\"aria-expanded\", true);\n\n    return this;\n  }\n\n  close(event) {\n    if (event) {\n      event.preventDefault();\n    }\n    this.isOpen = false;\n    this._menu.classList.remove(\"open\");\n    this._toggle.setAttribute(\"aria-expanded\", false);\n    return this;\n  }\n}\n\nPFElement.create(PfeDropdownItem);\nPFElement.create(PfeDropdown);\n\nexport default PfeDropdown;\n"],"names":["PfeDropdownItem","_container","shadowRoot","querySelector","tag","_item","assignedNodes","attr","oldValue","newValue","_setAccessibility","_setDisabled","type","getAttribute","setAttribute","removeAttribute","isDisabled","hasAttribute","PFElement","KEYCODE","DOWN","END","ENTER","ESC","HOME","LEFT","RIGHT","SPACE","UP","PfeDropdown","options","_modifyDOM","change","isOpen","_init","bind","_toggle","_toggle_text","_menu","open","close","_clickHandler","_toggleKeydownHandler","_itemKeydownHandler","_itemClickHandler","_outsideClickHandler","document","addEventListener","Promise","all","customElements","whenDefined","then","removeEventListener","_allItems","forEach","item","textContent","children","length","disabled","event","pfeType","target","parentElement","attributes","value","_selectItem","newItem","keyCode","_nextItem","_skipItem","_prevItem","_firstItem","_lastItem","focus","isSelf","isChild","closest","insideWrapper","tagName","includes","el","createElement","href","option","innerText","text","appendChild","querySelectorAll","items","newIdx","findIndex","activeElement","direction","emitEvent","events","detail","action","click","preventDefault","classList","add","remove","create"],"mappings":"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"}