!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd.min"),require("../../pfelement/dist/pfelement.umd")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min","../../pfelement/dist/pfelement.umd"],t):e.PfeDropdown=t(e.PFElement,e.PFElement)}(this,function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:i(r,t,o)}if("value"in n)return n.value;var d=n.get;return void 0!==d?d.call(o):void 0}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=(d(l,e),n(l,[{key:"html",get:function(){return'<style>:host{--pfe-dropdown-item--PaddingTop:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown-item--PaddingRight:var(--pfe-theme--container-padding, 16px);--pfe-dropdown-item--PaddingBottom:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown-item--PaddingLeft:var(--pfe-theme--container-padding, 16px);--pfe-dropdown-item--FontSize:var(--pfe-theme--font-size, 16px);--pfe-dropdown-item--FontWeight:400;--pfe-dropdown-item--LineHeight:var(--pfe-theme--line-height, 1.5);--pfe-dropdown-item--Color:#151515;--pfe-dropdown-item--Color--hover:#151515;--pfe-dropdown-item--TextAlign:left;--pfe-dropdown-item--WhiteSpace:nowrap;--pfe-dropdown-item--BackgroundColor:transparent;--pfe-dropdown-item--BackgroundColor--hover:#ededed;--pfe-dropdown-item--Border:none;--pfe-dropdown-item--BoxSizing:border-box;--pfe-dropdown-item--TextDecoration:none;--pfe-dropdown-item--Height:1px;--pfe-dropdown-item--MarginTop:0.5rem;--pfe-dropdown-item--MarginBottom:0.5rem}::slotted(*){display:block;width:100%;padding-top:var(--pfe-dropdown-item--PaddingTop);padding-right:var(--pfe-dropdown-item--PaddingRight);padding-bottom:var(--pfe-dropdown-item--PaddingBottom);padding-left:var(--pfe-dropdown-item--PaddingLeft);font-size:var(--pfe-dropdown-item--FontSize);font-weight:var(--pfe-dropdown-item--FontWeight);line-height:var(--pfe-dropdown-item--LineHeight);color:var(--pfe-dropdown-item--Color);text-align:var(--pfe-dropdown-item--TextAlign);white-space:var(--pfe-dropdown-item--WhiteSpace);background-color:var(--pfe-dropdown-item--BackgroundColor);border:var(--pfe-dropdown-item--Border);-webkit-box-sizing:var(--pfe-dropdown-item--BoxSizing);box-sizing:var(--pfe-dropdown-item--BoxSizing);-webkit-text-decoration:var(--pfe-dropdown-item--TextDecoration);text-decoration:var(--pfe-dropdown-item--TextDecoration);font-family:inherit}::slotted(:hover){color:var(--pfe-dropdown-item--Color--hover);background-color:var(--pfe-dropdown-item--BackgroundColor--hover)}:host([pfe-type=separator]) .pfe-dropdown-item__container{height:var(--pfe-dropdown-item--Height);margin-top:var(--pfe-dropdown-item--MarginTop);background-color:#d2d2d2;border:0}:host([disabled]) .pfe-dropdown-item__container{pointer-events:none;--pfe-dropdown-item--Color:#737679;--pfe-dropdown-item--BackgroundColor:transparent}\n/*# sourceMappingURL=pfe-dropdown-item.min.css.map */\n</style><li class="pfe-dropdown-item__container" id="pfe-dropdown-item">\n  <slot></slot>\n</li>'}},{key:"templateUrl",get:function(){return"pfe-dropdown-item.html"}},{key:"styleUrl",get:function(){return"pfe-dropdown-item.scss"}}],[{key:"version",get:function(){return"1.0.0-prerelease.31"}},{key:"tag",get:function(){return"pfe-dropdown-item"}},{key:"observedAttributes",get:function(){return["pfe-type","disabled"]}}]),n(l,[{key:"attributeChangedCallback",value:function(e,t,o){switch(e){case"pfe-type":this._setAccessibility();break;case"disabled":this._setDisabled()}}},{key:"connectedCallback",value:function(){i(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"connectedCallback",this).call(this)}},{key:"_setAccessibility",value:function(){if(this._container&&this._item){var e=this.getAttribute("pfe-type");if(e)switch(e){case"link":this._container.setAttribute("role","none"),this._item.setAttribute("role","menuitem");break;case"action":this._container.setAttribute("role","menuitem"),this._item.removeAttribute("role");break;case"separator":this._container.setAttribute("role","separator")}}}},{key:"_setDisabled",value:function(){this.hasAttribute("disabled")?(this.removeAttribute("tabindex"),this.setAttribute("aria-disabled","true")):(this.removeAttribute("disabled"),this.setAttribute("tabindex","0"),this.setAttribute("aria-disabled","false"))}}]),l);function l(){o(this,l);var e=p(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l));return e._container=e.shadowRoot.querySelector("."+e.tag+"__container"),e._item=e.shadowRoot.querySelector("slot").assignedNodes()[1],e}var f=40,g=35,s=13,c=27,_=36,u=37,h=39,m=38,w=(d(v,t),n(v,[{key:"html",get:function(){return'<style>:host{--pfe-dropdown__toggle--Position:relative;--pfe-dropdown__toggle--Display:flex;--pfe-dropdown__toggle--AlignItems:center;--pfe-dropdown__toggle--JustifyContent:space-between;--pfe-dropdown__toggle--MinWidth:calc(var(--pfe-theme--container-spacer, 16px) * 2);--pfe-dropdown__toggle--MaxWidth:100%;--pfe-dropdown__toggle--PaddingTop:calc(var(--pfe-theme--container-padding, 16px) * 0.375);--pfe-dropdown__toggle--PaddingRight:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown__toggle--PaddingBottom:calc(var(--pfe-theme--container-padding, 16px) * 0.375);--pfe-dropdown__toggle--PaddingLeft:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown__toggle--FontSize:var(--pfe-theme--font-size, 16px);--pfe-dropdown__toggle--FontWeight:400;--pfe-dropdown__toggle--LineHeight:var(--pfe-theme--line-height, 1.5);--pfe-dropdown__toggle--Color:var(--pfe-theme--color--text, #333);--pfe-dropdown__toggle--BackgroundColor:transparent;--pfe-dropdown__toggle--Border:none;--pfe-dropdown__toggle--BorderBottomColor--before:#8a8d90;--pfe-dropdown__toggle--BorderBottomColor--before--hover:var(--pfe-theme--color--link, #06c);--pfe-dropdown__toggle--BorderWidth--before:var(--pfe-theme--ui--border-width, 1px);--pfe-dropdown__toggle--BorderWidth--before--hover:calc(var(--pfe-theme--ui--border-width, 1px) * 2);--pfe-dropdown__toggle--BorderTopColor--before:#ededed;--pfe-dropdown__toggle--BorderRightColor--before:#ededed;--pfe-dropdown__toggle--BorderLeftColor--before:#ededed;--pfe-dropdown__toggle--BorderStyle--before:solid;--pfe-dropdown__toggle-text--Overflow:hidden;--pfe-dropdown__toggle-text--TextOverflow:ellipsis;--pfe-dropdown__toggle-text--WhiteSpace:nowrap;--pfe-dropdown__toggle-icon--VerticalAlign:calc(var(--pfe-theme--container-spacer, 16px) * -0.125);--pfe-dropdown__toggle-icon--Height:var(--pfe-theme--icon-size, 1em);--pfe-dropdown__toggle-icon--Width:var(--pfe-theme--icon-size, 1em);--pfe-dropdown__toggle-icon--MarginRight:calc(var(--pfe-theme--container-spacer, 16px) * 0.5);--pfe-dropdown__toggle-icon--MarginLeft:var(--pfe-theme--container-spacer, 16px);--pfe-dropdown__toggle-icon--LineHeight:var(--pfe-theme--line-height, 1.5);--pfe-dropdown__menu--Top:calc(100% + 0.25rem);--pfe-dropdown__menu--ZIndex:200;--pfe-dropdown__menu--PaddingTop:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown__menu--PaddingBottom:calc(var(--pfe-theme--container-padding, 16px) * 0.5);--pfe-dropdown__menu--PaddingRight:0;--pfe-dropdown__menu--PaddingLeft:0;--pfe-dropdown__menu--Margin:0;--pfe-dropdown__menu--Background:var(--pfe-theme--color--surface--lightest, #fff);--pfe-dropdown__menu--BackgroundClip:padding-box;--pfe-dropdown__menu--BorderWidth:var(--pfe-theme--ui--border-width, 1px);--pfe-dropdown__menu--BorderStyle:var(--pfe-theme--ui--border-style, solid);--pfe-dropdown__menu--BorderColor:transparent;--pfe-dropdown__menu--BoxShadow:var(--pfe-theme--box-shadow--sm, 0 0.0625rem 0.125rem 0 rgba(19, 19, 19, 0.2));--pfe-dropdown__menu--BoxSizing:border-box;--pfe-dropdown__menu--ListStyle:none;--pfe-dropdown__menu--MinWidth:100%;position:relative;display:inline-block;max-width:100%}:host([hidden]){display:none}:host([disabled]) .pfe-dropdown__container{pointer-events:none}:host([disabled]) .pfe-dropdown__toggle{--pfe-dropdown__toggle--BackgroundColor:#ededed}:host([disabled]) .pfe-dropdown__toggle::before{border:none}.pfe-dropdown__toggle{position:var(--pfe-dropdown__toggle--Position);display:var(--pfe-dropdown__toggle--Display);-webkit-box-align:var(--pfe-dropdown__toggle--AlignItems);-webkit-align-items:var(--pfe-dropdown__toggle--AlignItems);-ms-flex-align:var(--pfe-dropdown__toggle--AlignItems);align-items:var(--pfe-dropdown__toggle--AlignItems);-webkit-box-pack:var(--pfe-dropdown__toggle--JustifyContent);-webkit-justify-content:var(--pfe-dropdown__toggle--JustifyContent);-ms-flex-pack:var(--pfe-dropdown__toggle--JustifyContent);justify-content:var(--pfe-dropdown__toggle--JustifyContent);min-width:var(--pfe-dropdown__toggle--MinWidth);max-width:var(--pfe-dropdown__toggle--MaxWidth);padding-top:var(--pfe-dropdown__toggle--PaddingTop);padding-right:var(--pfe-dropdown__toggle--PaddingRight);padding-bottom:var(--pfe-dropdown__toggle--PaddingBottom);padding-left:var(--pfe-dropdown__toggle--PaddingLeft);font-size:var(--pfe-dropdown__toggle--FontSize);font-weight:var(--pfe-dropdown__toggle--FontWeight);line-height:var(--pfe-dropdown__toggle--LineHeight);color:var(--pfe-dropdown__toggle--Color);background-color:var(--pfe-dropdown__toggle--BackgroundColor);border:var(--pfe-dropdown__toggle--Border);font-family:inherit}.pfe-dropdown__toggle:active:before,.pfe-dropdown__toggle:focus:before,.pfe-dropdown__toggle:hover:before{border-bottom-color:var(--pfe-dropdown__toggle--BorderBottomColor--before--hover)}.pfe-dropdown__toggle:active:before,.pfe-dropdown__toggle:focus:before{border-width:var(--pfe-dropdown__toggle--BorderWidth--before--hover)}.pfe-dropdown__toggle:before{position:absolute;top:0;right:0;bottom:0;left:0;content:"";border-width:var(--pfe-dropdown__toggle--BorderWidth--before);border-style:var(--pfe-dropdown__toggle--BorderStyle--before);border-top-color:var(--pfe-dropdown__toggle--BorderTopColor--before);border-right-color:var(--pfe-dropdown__toggle--BorderRightColor--before);border-bottom-color:var(--pfe-dropdown__toggle--BorderBottomColor--before);border-left-color:var(--pfe-dropdown__toggle--BorderLeftColor--before)}.pfe-dropdown__toggle-text{overflow:var(--pfe-dropdown__toggle-text--Overflow);text-overflow:var(--pfe-dropdown__toggle-text--TextOverflow);white-space:var(--pfe-dropdown__toggle-text--WhiteSpace)}.pfe-dropdown__toggle-icon{vertical-align:var(--pfe-dropdown__toggle-icon--VerticalAlign);fill:currentColor;height:var(--pfe-dropdown__toggle-icon--Height);width:var(--pfe-dropdown__toggle-icon--Width);margin-right:var(--pfe-dropdown__toggle-icon--MarginRight);margin-left:var(--pfe-dropdown__toggle-icon--MarginLeft);line-height:var(--pfe-dropdown__toggle-icon--LineHeight)}.pfe-dropdown__menu{display:none;position:absolute;top:var(--pfe-dropdown__menu--Top);z-index:var(--pfe-dropdown__menu--ZIndex);padding-top:var(--pfe-dropdown__menu--PaddingTop);padding-bottom:var(--pfe-dropdown__menu--PaddingBottom);padding-right:var(--pfe-dropdown__menu--PaddingRight);padding-left:var(--pfe-dropdown__menu--PaddingLeft);margin:var(--pfe-dropdown__menu--Margin);background:var(--pfe-dropdown__menu--Background);background-clip:var(--pfe-dropdown__menu--BackgroundClip);border-width:var(--pfe-dropdown__menu--BorderWidth);border-style:var(--pfe-dropdown__menu--BorderStyle);border-color:var(--pfe-dropdown__menu--BorderColor);-webkit-box-shadow:var(--pfe-dropdown__menu--BoxShadow);box-shadow:var(--pfe-dropdown__menu--BoxShadow);-webkit-box-sizing:var(--pfe-dropdown__menu--BoxSizing);box-sizing:var(--pfe-dropdown__menu--BoxSizing);list-style:var(--pfe-dropdown__menu--ListStyle);min-width:var(--pfe-dropdown__menu--MinWidth)}.pfe-dropdown__menu.open{display:block}\n/*# sourceMappingURL=pfe-dropdown.min.css.map */\n</style><div class="pfe-dropdown__container" id="pfe-dropdown-container">\n  <button class="pfe-dropdown__toggle" type="button" aria-haspopup="menu" aria-controls="pfe-dropdown-menu"\n    id="pfe-dropdown-toggle">\n    <span class="pfe-dropdown__toggle-text"></span>\n    <svg class="pfe-dropdown__toggle-icon" viewBox="0 0 320 512" aria-hidden="true" role="img">\n      <path\n        d="M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z">\n      </path>\n    </svg>\n  </button>\n  <ul class="pfe-dropdown__menu" role="menu" aria-labelledby="pfe-dropdown-toggle" id="pfe-dropdown-menu">\n    <slot></slot>\n  </ul>\n</div>'}},{key:"templateUrl",get:function(){return"pfe-dropdown.html"}},{key:"styleUrl",get:function(){return"pfe-dropdown.scss"}},{key:"disabled",get:function(){return this.hasAttribute("disabled")}},{key:"pfeDropdownOptions",set:function(e){this._modifyDOM(e)}}],[{key:"version",get:function(){return"1.0.0-prerelease.31"}},{key:"tag",get:function(){return"pfe-dropdown"}},{key:"observedAttributes",get:function(){return["pfe-label","disabled"]}},{key:"events",get:function(){return{change:this.tag+":change"}}}]),n(v,[{key:"connectedCallback",value:function(){var e=this;i(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"connectedCallback",this).call(this),document.addEventListener("click",this._outsideClickHandler),Promise.all([customElements.whenDefined(v.tag),customElements.whenDefined(a.tag)]).then(function(){e._init()})}},{key:"disconnectedCallback",value:function(){var t=this;this._toggle.removeEventListener("click",this._clickHandler),this._toggle.removeEventListener("keydown",this._toggleKeydownHandler),this._allItems().forEach(function(e){e.removeEventListener("keydown",t._itemKeydownHandler),e.removeEventListener("click",t._itemClickHandler)})}},{key:"attributeChangedCallback",value:function(e,t,o){switch(e){case"pfe-label":this._toggle_text.textContent=o;break;case"disabled":this._setDisabled()}}},{key:"_init",value:function(){var t=this;this.children.length&&(this.disabled||(this._toggle.addEventListener("click",this._clickHandler),this._toggle.addEventListener("keydown",this._toggleKeydownHandler),this._allItems().forEach(function(e){e.addEventListener("keydown",t._itemKeydownHandler),e.addEventListener("click",t._itemClickHandler)})))}},{key:"_clickHandler",value:function(e){return this.isOpen?this.close(e):this.open(e),this}},{key:"_itemClickHandler",value:function(e){var t=void 0;return e.target.parentElement.attributes["pfe-type"]&&(t=e.target.parentElement.attributes["pfe-type"].value),this._selectItem(e.target,t),this}},{key:"_itemKeydownHandler",value:function(e){var t=void 0,o=void 0;switch(e.target.attributes["pfe-type"]&&(o=e.target.attributes["pfe-type"].value),e.keyCode){case s:this._selectItem(e.target.children[0],o);break;case c:this.close(e);break;case h:case f:t=this._nextItem().hasAttribute("disabled")?this._skipItem(1):this._nextItem();break;case u:case m:t=this._prevItem().hasAttribute("disabled")?this._skipItem(-1):this._prevItem();break;case _:t=this._firstItem();break;case g:t=this._lastItem()}return t&&(t.setAttribute("tabindex","-1"),t.focus()),this}},{key:"_outsideClickHandler",value:function(e){var t=e.target===this,o=e.target.closest("pfe-dropdown"),n=e.target.tagName.includes("-")?e.target.shadowRoot.querySelector("pfe-dropdown"):null;t||o||n||this.close(e)}},{key:"_toggleKeydownHandler",value:function(e){if(e.keyCode===f||e.keyCode===s){this.open(e);var t=this._firstItem();t&&(t.hasAttribute("disabled")&&(t=this._skipItem(1)),t.setAttribute("tabindex","-1"),t.focus())}return this}},{key:"_modifyDOM",value:function(e){var n=this;e.forEach(function(e){var t=void 0;switch(e.type){case"link":(t=document.createElement("a")).setAttribute("href",e.href?e.href:"#");break;case"action":t=document.createElement("button")}var o=document.createElement("pfe-dropdown-item");o.setAttribute("pfe-type",e.type),e.disabled&&o.setAttribute("disabled",e.disabled),t&&(t.innerText=e.text?e.text:"",o.appendChild(t)),n.appendChild(o)})}},{key:"_setDisabled",value:function(){this.hasAttribute("disabled")?this.setAttribute("aria-disabled","true"):(this.removeAttribute("disabled"),this.setAttribute("aria-disabled","false"))}},{key:"_allItems",value:function(){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(this.querySelectorAll(this.tag+"-item:not([pfe-type='separator'])")))}},{key:"_prevItem",value:function(){var e=this._allItems(),t=e.findIndex(function(e){return e===document.activeElement})-1;return e[(t+e.length)%e.length]}},{key:"_firstItem",value:function(){return this._allItems()[0]}},{key:"_lastItem",value:function(){var e=this._allItems();return e[e.length-1]}},{key:"_nextItem",value:function(){var e=this._allItems(),t=e.findIndex(function(e){return e===document.activeElement})+1;return e[t%e.length]}},{key:"_skipItem",value:function(e){var t=this._allItems(),o=t.findIndex(function(e){return e===document.activeElement})+e;return t[o%t.length+e]}},{key:"_selectItem",value:function(e,t){"action"===t?(this.emitEvent(v.events.change,{detail:{action:e.innerText}}),this.close(event)):e.click()}},{key:"addDropdownOptions",value:function(e){this._modifyDOM(e)}},{key:"open",value:function(e){return e&&e.preventDefault(),this.isOpen=!0,this._menu.classList.add("open"),this._toggle.setAttribute("aria-expanded",!0),this}},{key:"close",value:function(e){return e&&e.preventDefault(),this.isOpen=!1,this._menu.classList.remove("open"),this._toggle.setAttribute("aria-expanded",!1),this}}]),v);function v(){o(this,v);var e=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,v));return e.isOpen=!1,e._init=e._init.bind(e),e._container=e.shadowRoot.querySelector("#"+e.tag+"-container"),e._toggle=e.shadowRoot.querySelector("#"+e.tag+"-toggle"),e._toggle_text=e._toggle.querySelector("."+e.tag+"__toggle-text"),e._menu=e.shadowRoot.querySelector("#"+e.tag+"-menu"),e.open=e.open.bind(e),e.close=e.close.bind(e),e._clickHandler=e._clickHandler.bind(e),e._toggleKeydownHandler=e._toggleKeydownHandler.bind(e),e._itemKeydownHandler=e._itemKeydownHandler.bind(e),e._itemClickHandler=e._itemClickHandler.bind(e),e._outsideClickHandler=e._outsideClickHandler.bind(e),e}return t.create(a),t.create(w),w});
//# sourceMappingURL=pfe-dropdown.umd.min.js.map
