!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd.min"),require("../../pfe-accordion/dist/pfe-accordion.umd.min"),require("../../pfe-tabs/dist/pfe-tabs.umd.min")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min","../../pfe-accordion/dist/pfe-accordion.umd.min","../../pfe-tabs/dist/pfe-tabs.umd.min"],t):e.PfeContentSet=t(e.PFElement,e.PfeAccordion,e.PfeTabs)}(this,function(e,i,o){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,i=i&&i.hasOwnProperty("default")?i.default:i,o=o&&o.hasOwnProperty("default")?o.default:o,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},writable:!0,configurable:!0});var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(e=Object.getPrototypeOf(e),null!==e)return a(e,t,n)}var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c={characterData:!0,childList:!0,subtree:!0},n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,e),n(l,[{key:"html",get:function(){return'\n<style>:host{display:block}#lightdom,:host([hidden]){display:none} /*# sourceMappingURL=pfe-content-set.min.css.map */</style>\n<div id="lightdom" hidden>\n  <slot></slot>\n</div>\n<pfe-tabs hidden></pfe-tabs>\n<pfe-accordion hidden></pfe-accordion>'}},{key:"templateUrl",get:function(){return"pfe-content-set.html"}},{key:"styleUrl",get:function(){return"pfe-content-set.scss"}},{key:"isTab",get:function(){var e=this.breakpoint?parseInt(this.breakpoint.replace(/\D/g,"")):700;return this.parentNode?this.parentNode.offsetWidth>e:window.outerWidth>e}},{key:"tab",get:function(){return this.shadowRoot.querySelector(o.tag)}},{key:"accordion",get:function(){return this.shadowRoot.querySelector(i.tag)}},{key:"displayTemplate",get:function(){var e=document.createElement("template");return e.innerHTML=(this.isTab?o:i).template,e}}],[{key:"version",get:function(){return"1.0.0"}},{key:"tag",get:function(){return"pfe-content-set"}},{key:"meta",get:function(){return{title:"Content set",description:"This element creates a flexible component that renders an accordion or tabset depending on screen size."}}},{key:"pfeType",get:function(){return e.pfeType.combo}},{key:"properties",get:function(){var e=function(e,t){var n=Object.assign({},e),r=!0,i=!1,o=void 0;try{for(var a=Object.entries(n)[Symbol.iterator]();!(r=(c=a.next()).done);r=!0){var s=c.value,c=d(s,2),s=c[0],c=c[1];c.observer&&delete n[s].observer,c.cascade&&delete n[s].cascade,c.alias||(n[s].cascade=t)}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n},t=e(o.properties,o.tag),e=e(i.properties,i.tag),e=Object.assign(t,e);return Object.assign(e,{breakpoint:{title:"Custom breakpoint",type:String,observer:"_updateBreakpoint"},align:{type:String,enum:["center"],alias:"tabAlign"},oldAlign:{attr:"pfe-align",alias:"tabAlign"},oldBreakpoint:{type:String,alias:"breakpoint",attr:"pfe-breakpoint"},pfeId:{type:String,attr:"pfe-id",observer:"_copyToId"}})}},{key:"slots",get:function(){return{default:{title:"Default",type:"array",namedSlot:!1,items:{$ref:"raw"}}}}}]),n(l,[{key:"connectedCallback",value:function(){var e=this;a(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"connectedCallback",this).call(this),this.hasLightDOM()&&Promise.all([customElements.whenDefined(o.tag),customElements.whenDefined(i.tag)]).then(function(){e._build()}),this._observer.observe(this,c),window.ResizeObserver&&this.parentElement&&this._resizeObserver.observe(this.parentElement)}},{key:"disconnectedCallback",value:function(){a(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"disconnectedCallback",this).call(this),this._observer.disconnect(),window.ResizeObserver&&this._resizeObserver.disconnect()}},{key:"_mutationHandler",value:function(e){var t=this;if(window.ShadyCSS)return this._observer.disconnect(),this._build(),void setTimeout(function(){t._observer.observe(t,c)},0);if(e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;switch(s.type){case"childList":s.addedNodes&&this._build(s.addedNodes),s.removedNodes&&this._removeNodes(s.removedNodes);break;case"characterData":s.target&&s.target.parentNode&&this._updateNode(s.target.parentNode,s.target.textContent)}}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}else this._build()}},{key:"_isHeader",value:function(e){return e.hasAttribute(this.tag+"--header")||e.tagName.match(/H[1-6]/)}},{key:"_isPanel",value:function(e){return e.hasAttribute(this.tag+"--panel")}},{key:"_toggleVisible",value:function(){this.isTab?(this.tab&&this.tab.removeAttribute("hidden"),this.accordion&&this.accordion.setAttribute("hidden","")):(this.accordion&&this.accordion.removeAttribute("hidden"),this.tab&&this.tab.setAttribute("hidden",""))}},{key:"_removeNodes",value:function(e){var t=this,n=this.isTab?this.tab:this.accordion;e.forEach(function(e){return t._removeNode(e)}),n.hasChildNodes()||n.setAttribute("hidden","")}},{key:"_findConnection",value:function(e,t){if("#text"!==e.nodeName&&e.hasAttribute("maps-to")){e=e.getAttribute("maps-to");if(null!==e){t=t.querySelector("#"+e);if(t)return t;this.warn("no element could be found with #"+e)}}return null}},{key:"_removeNode",value:function(n){var r=this;[this.tab,this.accordion].forEach(function(e){var t=_findConnection(n,e);t?e.removeChild(t):r._build()})}},{key:"_updateNode",value:function(t,n){var r=this;[this.tab,this.accordion].forEach(function(e){e=_findConnection(t,e);e?e.textContent=n:r._build()})}},{key:"_buildSets",value:function(r){for(var a=this,s=document.createDocumentFragment(),e=0;e<r.length;e+=2)!function(e){var t=r[e],n=r[e+1],o=a.displayTemplate.content.cloneNode(!0);t||a.warn("no element found at position "+e+" of the light DOM input."),n||a.warn("no element found at position "+(e+1)+" of the light DOM input."),t&&a._isHeader(t)&&n&&a._isPanel(n)&&[t,n].forEach(function(e,t){var n=0===t?"header":"panel",r=o.querySelector('[content-type="'+n+'"]').cloneNode(!0),i=e.id||e.getAttribute("pfe-id")||a.randomId,t=e.cloneNode(!0);t.removeAttribute(a.tag+"--"+n),r.appendChild(t),e.setAttribute("maps-to",i),r.id=i,s.appendChild(r)})}(e);return s}},{key:"_build",value:function(n){var r=this;[this.tab,this.accordion].forEach(function(e){e.id||(e.id=r.id||r.pfeId||r.randomId);var t=n||r.children||null;!n&&t&&(e.innerHTML=""),!t||(t=r._buildSets(t))&&e.appendChild(t),r._toggleVisible()}),Promise.all([customElements.whenDefined(o.tag),customElements.whenDefined(i.tag)]).then(function(){r.isTab&&r.selectedIndex&&(r.tab.selectedIndex=r.selectedIndex)})}},{key:"_copyToId",value:function(){this.id||(this.id=this.pfeId)}},{key:"_resizeHandler",value:function(){this._toggleVisible()}},{key:"_updateBreakpoint",value:function(){this._toggleVisible()}}]),l);function l(){t(this,l);var e=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l));return e._mutationHandler=e._mutationHandler.bind(e),e._resizeHandler=e._resizeHandler.bind(e),e._observer=new MutationObserver(e._mutationHandler),window.ResizeObserver&&(e._resizeObserver=new ResizeObserver(e._resizeHandler)),e}return e.create(n),n});
//# sourceMappingURL=pfe-content-set.umd.min.js.map
